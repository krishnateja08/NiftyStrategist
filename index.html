<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0">
<title>NIFTY Indian Markets HUB ‚Äî Intelligence Hub</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;900&family=Rajdhani:wght@400;500;600;700&family=Share+Tech+Mono&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}

:root{
  --bg:#02000a;--panel:#06040f;--p2:#0b0818;
  --cyan:#00f5ff;--pink:#ff0090;--yel:#ffe000;
  --grn:#00ff88;--pur:#9d00ff;--red:#ff2255;
  --bc:rgba(0,245,255,.12);--bp:rgba(255,0,144,.12);
  --b1:rgba(0,245,255,.07);--b2:rgba(0,245,255,.14);
  --tx:rgba(220,240,255,.97);--t2:rgba(0,245,255,.75);--t3:rgba(0,245,255,.45);
}

html,body{
  background:var(--bg);
  color:var(--tx);
  font-family:'Rajdhani',sans-serif;
  font-weight:500;
  overflow-x:hidden;
  min-height:100vh;
  -webkit-text-size-adjust:100%;
}

body::before{content:'';position:fixed;inset:0;z-index:0;pointer-events:none;
  background:linear-gradient(rgba(0,245,255,.028) 1px,transparent 1px),linear-gradient(90deg,rgba(0,245,255,.028) 1px,transparent 1px);
  background-size:48px 48px;}
body::after{content:'';position:fixed;inset:0;z-index:0;pointer-events:none;
  background:radial-gradient(ellipse 55% 45% at 5% 50%,rgba(0,245,255,.055) 0%,transparent 65%),
    radial-gradient(ellipse 45% 55% at 95% 50%,rgba(255,0,144,.055) 0%,transparent 65%),
    radial-gradient(ellipse 35% 25% at 50% 100%,rgba(157,0,255,.06) 0%,transparent 60%);}
#scan{position:fixed;inset:0;z-index:998;pointer-events:none;
  background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,0,0,.06) 2px,rgba(0,0,0,.06) 4px);}

#app{position:relative;z-index:1;min-height:100vh;display:flex;flex-direction:column}

/* ‚ïê‚ïê TOPBAR ‚ïê‚ïê */
.tb{
  background:rgba(0,0,0,.85);
  border-bottom:1px solid var(--cyan);
  padding:4px 12px;
  display:flex;justify-content:space-between;align-items:center;
  font-family:'Orbitron',monospace;font-size:9px;letter-spacing:2px;
  position:relative;z-index:10;
  box-shadow:0 0 20px rgba(0,245,255,.1);
  min-height:28px;
  flex-wrap:nowrap;
  gap:8px;
}
.tb-l{color:var(--cyan);font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:8px;}
.tb-r{display:flex;gap:10px;color:var(--t3);flex-shrink:0;font-size:8px;}
.tb-r .v{color:var(--t2)}.tb-r .live{color:var(--grn)}

.dot{display:inline-block;width:6px;height:6px;border-radius:50%;background:var(--grn);
  box-shadow:0 0 8px var(--grn);animation:blink 1.4s ease-in-out infinite;
  margin-right:4px;vertical-align:middle;flex-shrink:0;}
@keyframes blink{0%,100%{opacity:1}50%{opacity:.08}}

/* ‚ïê‚ïê HEADER ‚ïê‚ïê */
header{
  background:rgba(6,4,15,.95);
  border-bottom:1px solid var(--bc);
  padding:10px 14px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  position:sticky;top:0;z-index:90;
  backdrop-filter:blur(12px);
  box-shadow:0 1px 0 rgba(0,245,255,.2),0 4px 20px rgba(0,0,0,.6);
  flex-wrap:nowrap;
}
header::after{content:'';position:absolute;bottom:0;left:0;right:0;height:1px;
  background:linear-gradient(90deg,transparent,var(--cyan),var(--pink),var(--cyan),transparent);opacity:.6;}

.brand{display:flex;align-items:center;gap:10px;flex-shrink:0;}
.logo{
  width:40px;height:40px;flex-shrink:0;
  clip-path:polygon(50% 0%,95% 25%,95% 75%,50% 100%,5% 75%,5% 25%);
  background:linear-gradient(135deg,rgba(0,245,255,.18),rgba(255,0,144,.12));
  border:1px solid var(--cyan);display:flex;align-items:center;justify-content:center;font-size:18px;
  box-shadow:0 0 22px rgba(0,245,255,.35),inset 0 0 14px rgba(0,245,255,.06);
  animation:hexglow 3s ease-in-out infinite;
}
@keyframes hexglow{
  0%,100%{box-shadow:0 0 22px rgba(0,245,255,.35),inset 0 0 14px rgba(0,245,255,.06)}
  50%{box-shadow:0 0 40px rgba(0,245,255,.6),inset 0 0 20px rgba(0,245,255,.12)}}
.bname{font-family:'Orbitron',sans-serif;font-size:13px;font-weight:700;letter-spacing:1.5px;
  color:var(--cyan);text-shadow:0 0 20px rgba(0,245,255,.5),0 0 40px rgba(0,245,255,.2);
  white-space:nowrap;}
.bname span{color:var(--pink);text-shadow:0 0 20px rgba(255,0,144,.5)}
.bsub{font-size:8px;color:var(--t3);letter-spacing:2px;margin-top:2px;font-family:'Orbitron',sans-serif}

/* ‚ïê‚ïê WORLD CLOCK STRIP ‚ïê‚ïê */
.wclocks{
  flex:1;
  display:flex;align-items:center;justify-content:center;
  gap:3px;
  padding:0 10px;
  overflow-x:auto;
  overflow-y:hidden;
  scrollbar-width:none;
  min-width:0;
}
.wclocks::-webkit-scrollbar{display:none;}

.wc{
  display:flex;flex-direction:column;align-items:center;
  padding:4px 8px;
  border:1px solid rgba(0,245,255,.1);
  background:rgba(0,245,255,.03);
  position:relative;
  flex-shrink:0;
  clip-path:polygon(5px 0%,100% 0%,calc(100% - 5px) 100%,0% 100%);
  transition:background .2s,border-color .2s;
  min-width:64px;
  cursor:default;
}
.wc:hover{background:rgba(0,245,255,.07);border-color:rgba(0,245,255,.3);}
.wc.active-market{border-color:rgba(0,255,136,.35);background:rgba(0,255,136,.04);}
.wc.active-market .wc-zone{color:var(--grn);}
.wc.active-market::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:var(--grn);box-shadow:0 0 6px var(--grn);}
.wc.closed-market{border-color:rgba(255,34,85,.2);background:rgba(255,34,85,.02);}
.wc.closed-market .wc-zone{color:rgba(255,80,100,.6);}
.wc-zone{font-family:'Orbitron',monospace;font-size:6px;letter-spacing:1.5px;color:var(--t3);margin-bottom:2px;white-space:nowrap;text-transform:uppercase;}
.wc-time{font-family:'Share Tech Mono',monospace;font-size:12px;font-weight:700;color:var(--tx);line-height:1;white-space:nowrap;text-shadow:0 0 8px rgba(0,245,255,.25);}
.wc-label{font-family:'Orbitron',monospace;font-size:5px;letter-spacing:1.5px;color:var(--t3);margin-top:2px;white-space:nowrap;}
.wc-flag{font-size:8px;margin-bottom:1px;line-height:1;}
.wc-status-dot{position:absolute;top:4px;right:4px;width:4px;height:4px;border-radius:50%;background:var(--grn);box-shadow:0 0 5px var(--grn);animation:blink 1.4s ease-in-out infinite;}
.wc.closed-market .wc-status-dot{background:var(--red);box-shadow:0 0 5px var(--red);animation:none;opacity:.5;}
.wc-sep{width:1px;height:24px;background:linear-gradient(180deg,transparent,rgba(0,245,255,.2),transparent);flex-shrink:0;}

/* ‚ïê‚ïê HEADER RIGHT PILLS ‚ïê‚ïê */
.hright{display:flex;gap:5px;flex-shrink:0;align-items:center;}
.pill{
  padding:4px 8px;font-size:7px;letter-spacing:1.5px;font-family:'Orbitron',sans-serif;
  text-transform:uppercase;border:1px solid var(--bc);color:var(--t2);background:rgba(0,245,255,.03);
  clip-path:polygon(5px 0%,100% 0%,calc(100% - 5px) 100%,0% 100%);
  white-space:nowrap;
}
.pill.g{border-color:rgba(0,255,136,.3);color:var(--grn);background:rgba(0,255,136,.04)}
.pill.p{border-color:rgba(255,0,144,.3);color:var(--pink);background:rgba(255,0,144,.04)}

/* ‚ïê‚ïê MARKET BAR ‚ïê‚ïê */
.mbar{
  background:rgba(0,0,0,.82);
  border-bottom:1px solid rgba(0,245,255,.12);
  position:relative;z-index:5;
  overflow:hidden;
  display:flex;
  flex-direction:column;
}
.mbar::after{content:'';position:absolute;bottom:0;left:0;right:0;height:1px;
  background:linear-gradient(90deg,var(--cyan),var(--pink),var(--yel),var(--pur),var(--cyan));opacity:.35;}

.mbar-row{
  display:flex;
  align-items:stretch;
  border-bottom:1px solid rgba(0,245,255,.06);
}
.mbar-row:last-child{border-bottom:none;}

.mbar-label{
  display:flex;align-items:center;justify-content:center;flex-direction:column;
  gap:3px;padding:6px 6px;flex-shrink:0;
  width:36px;
}
.mbar-label.india{
  background:linear-gradient(180deg,rgba(0,245,255,.06),rgba(0,245,255,.02));
  border-right:1px solid rgba(0,245,255,.12);
}
.mbar-label.global{
  background:linear-gradient(180deg,rgba(255,224,0,.05),rgba(255,224,0,.01));
  border-right:1px solid rgba(255,224,0,.12);
}
.mbar-label-flag{font-size:11px;line-height:1;}
.mbar-label-txt{
  writing-mode:vertical-rl;text-orientation:mixed;transform:rotate(180deg);
  font-family:'Orbitron',monospace;font-size:5px;letter-spacing:2px;
}
.mbar-label.india .mbar-label-txt{color:var(--cyan);}
.mbar-label.global .mbar-label-txt{color:var(--yel);}

.mbar-items{display:flex;overflow-x:auto;scrollbar-width:none;align-items:stretch;flex:1;}
.mbar-items::-webkit-scrollbar{display:none;}

.mbar-item{
  display:flex;flex-direction:column;justify-content:center;
  padding:7px 14px 6px;
  border-right:1px solid rgba(0,245,255,.06);
  flex-shrink:0;min-width:100px;position:relative;
  transition:background .2s;
}
.mbar-item:hover{background:rgba(0,245,255,.03);}
.mbar-item:last-child{border-right:none;}
.mbar-item::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:var(--ic,rgba(0,245,255,.3));opacity:.4;}

.mbar-name{font-family:'Orbitron',monospace;font-size:6.5px;letter-spacing:1.5px;color:var(--t3);margin-bottom:3px;white-space:nowrap;}
.mbar-val{font-family:'Share Tech Mono',monospace;font-size:14px;font-weight:700;color:var(--ic,var(--tx));text-shadow:0 0 8px var(--is,rgba(0,245,255,.3));line-height:1;white-space:nowrap;transition:color .3s;}
.mbar-chg{font-family:'Share Tech Mono',monospace;font-size:9px;margin-top:2px;white-space:nowrap;display:flex;align-items:center;gap:3px;}
.mbar-chg.up{color:var(--grn);}
.mbar-chg.dn{color:var(--red);}
.mbar-chg.vix{color:var(--yel);}
.mbar-item.is-vix .mbar-val{color:var(--yel);text-shadow:0 0 8px rgba(255,224,0,.35);}

@keyframes val-flash{0%{opacity:.4}50%{opacity:1}100%{opacity:1}}
.val-updated{animation:val-flash .5s ease;}

.mbar-src{position:absolute;bottom:2px;left:6px;font-family:'Orbitron',monospace;font-size:4.5px;letter-spacing:1px;opacity:.25;}
.mbar-updated{position:absolute;top:3px;right:6px;font-family:'Orbitron',monospace;font-size:5.5px;letter-spacing:1px;color:rgba(0,245,255,.2);z-index:2;}

/* ‚ïê‚ïê TICKER ‚ïê‚ïê */
.tkr{background:rgba(0,5,20,.92);border-top:1px solid rgba(0,245,255,.3);border-bottom:1px solid rgba(0,245,255,.3);
  padding:5px 0;overflow:hidden;white-space:nowrap;position:relative;box-shadow:0 0 20px rgba(0,245,255,.08);}
.tkr::before,.tkr::after{content:'';position:absolute;top:0;bottom:0;width:50px;z-index:2;pointer-events:none;}
.tkr::before{left:0;background:linear-gradient(90deg,var(--bg),transparent)}
.tkr::after{right:0;background:linear-gradient(-90deg,var(--bg),transparent)}
.tkr-t{display:inline-flex;animation:tscroll 80s linear infinite}
@keyframes tscroll{from{transform:translateX(0)}to{transform:translateX(-50%)}}
.ti{display:inline-flex;align-items:center;gap:8px;padding:0 18px;font-size:11px;font-family:'Orbitron',monospace;border-right:1px solid rgba(0,245,255,.2);}
.ti .s{color:#00ffff;font-size:8px;letter-spacing:1.5px;font-weight:700;text-shadow:0 0 8px #00ffff;}
.ti .tv{color:#ffffff;font-weight:600;text-shadow:0 0 6px rgba(255,255,255,.5);}
.up{color:#00ff88;text-shadow:0 0 8px #00ff88;font-weight:700;}
.dn{color:#ff3366;text-shadow:0 0 8px #ff3366;font-weight:700;}

/* ‚ïê‚ïê STATS BAR ‚ïê‚ïê */
.stats{display:grid;grid-template-columns:repeat(4,1fr);background:rgba(0,245,255,.06);gap:1px;border-bottom:1px solid var(--bc);}
.sb{background:var(--panel);padding:10px 14px;position:relative;overflow:hidden;}
.sb::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;background:var(--sc,var(--cyan));box-shadow:0 0 8px var(--sc,var(--cyan));}
.sb::after{content:var(--sg,'‚óà');position:absolute;bottom:-6px;right:8px;font-size:36px;color:rgba(0,245,255,.04);pointer-events:none;line-height:1;font-family:'Orbitron',sans-serif;}
.sb .l{font-family:'Orbitron',sans-serif;font-size:7px;color:var(--t3);letter-spacing:2px;text-transform:uppercase;margin-bottom:4px;}
.sb .v{font-family:'Orbitron',sans-serif;font-size:14px;font-weight:700;color:var(--sc,var(--cyan));text-shadow:0 0 12px currentColor;}
.sb .s{font-size:9px;color:var(--t2);margin-top:3px}

/* ‚ïê‚ïê SECTION ‚ïê‚ïê */
.sec{padding:10px 14px 8px;display:flex;align-items:center;gap:10px;border-bottom:1px solid var(--b1);}
.sec-bar{width:3px;height:12px;background:var(--cyan);box-shadow:0 0 8px var(--cyan);flex-shrink:0}
.sec-txt{font-family:'Orbitron',sans-serif;font-size:8px;color:var(--cyan);letter-spacing:2.5px;text-transform:uppercase;font-weight:600;text-shadow:0 0 10px rgba(0,245,255,.4);}
.sec-bdg{margin-left:auto;font-family:'Orbitron',sans-serif;font-size:7px;color:var(--pink);border:1px solid rgba(255,0,144,.3);padding:2px 8px;letter-spacing:2px;background:rgba(255,0,144,.05);white-space:nowrap;}

/* ‚ïê‚ïê GROUPS ‚ïê‚ïê */
.groups{display:flex;flex-direction:column;gap:0;margin:12px 14px 16px;}
.sc-group{position:relative;border:1px solid var(--ga,rgba(0,245,255,.15));margin-bottom:12px;}
.sc-group:last-child{margin-bottom:0;}
.sc-group::before{content:'';position:absolute;inset:-1px;background:linear-gradient(135deg,var(--ga,rgba(0,245,255,.15)),transparent 40%,transparent 60%,var(--gb,rgba(255,0,144,.08)));pointer-events:none;z-index:0;opacity:.5;}
.sc-inner{position:relative;z-index:1;background:rgba(6,4,15,.96);}
.sc-head{padding:10px 14px;border-bottom:1px solid rgba(0,245,255,.08);display:flex;align-items:center;gap:10px;background:linear-gradient(90deg,rgba(6,4,15,.99),rgba(6,4,15,.85));}
.sc-head-hex{width:34px;height:34px;flex-shrink:0;clip-path:polygon(50% 0%,93% 25%,93% 75%,50% 100%,7% 75%,7% 25%);background:linear-gradient(135deg,rgba(0,245,255,.12),rgba(255,0,144,.06));border:1px solid var(--gc,var(--cyan));display:flex;align-items:center;justify-content:center;font-size:15px;box-shadow:0 0 14px rgba(0,245,255,.2);animation:hexglow2 3s ease-in-out infinite;}
@keyframes hexglow2{0%,100%{box-shadow:0 0 10px rgba(0,245,255,.2)}50%{box-shadow:0 0 22px rgba(0,245,255,.45)}}
.sc-head-info{flex:1;min-width:0;}
.sc-head-tag{font-family:'Orbitron',monospace;font-size:6.5px;letter-spacing:2px;color:var(--t3);margin-bottom:2px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.sc-head-name{font-family:'Orbitron',monospace;font-size:11px;letter-spacing:1.5px;color:var(--gc,var(--cyan));text-shadow:0 0 12px rgba(0,245,255,.4);}
.sc-head-right{text-align:right;flex-shrink:0;}
.sc-head-status{font-family:'Orbitron',monospace;font-size:7.5px;color:var(--grn);display:flex;align-items:center;gap:4px;justify-content:flex-end;}
.sc-head-nodes{font-size:8px;color:var(--t3);margin-top:2px;font-family:'Orbitron',monospace;letter-spacing:1px;}

/* ‚ïê‚ïê CARDS ‚Äî default 3-col ‚ïê‚ïê */
.sc-cards{display:grid;grid-template-columns:repeat(3,1fr);gap:0;}
.sc-cards-4{display:grid;grid-template-columns:repeat(4,1fr);gap:0;}

.sc-card{padding:14px;border-right:1px solid rgba(0,245,255,.07);cursor:pointer;position:relative;overflow:hidden;transition:background .2s;text-decoration:none;color:inherit;display:block;}
.sc-card:last-child{border-right:none;}
.sc-card:hover{background:rgba(0,245,255,.03);}
.sc-card::before{content:'';position:absolute;inset:0;z-index:0;background:linear-gradient(180deg,transparent 0%,rgba(0,245,255,.025) 50%,transparent 100%);background-size:100% 40px;opacity:0;transition:opacity .25s;animation:scanmove 2s linear infinite;}
@keyframes scanmove{0%{background-position:0 -40px}100%{background-position:0 200px}}
.sc-card:hover::before{opacity:1;}
.sc-card-inner{position:relative;z-index:2;}
.sc-card .brk{position:absolute;bottom:10px;right:10px;width:10px;height:10px;z-index:3;border-bottom:1px solid var(--t3);border-right:1px solid var(--t3);transition:.2s;}
.sc-card:hover .brk{border-color:var(--cc,var(--cyan));box-shadow:2px 2px 6px rgba(0,245,255,.2);width:14px;height:14px;bottom:8px;right:8px;}
.sc-card-topbar{height:1px;margin:-14px -14px 12px;background:linear-gradient(90deg,var(--cc,var(--cyan)),transparent);opacity:.5;transition:opacity .2s;}
.sc-card:hover .sc-card-topbar{opacity:1;}
.sc-card-glow{position:absolute;top:-30px;right:-30px;width:100px;height:100px;border-radius:50%;background:radial-gradient(var(--cc,rgba(0,245,255,.08)),transparent 70%);pointer-events:none;z-index:1;}
.sc-card-top{display:flex;align-items:center;gap:8px;margin-bottom:8px;}
.sc-card-ico-wrap{width:34px;height:34px;flex-shrink:0;position:relative;display:flex;align-items:center;justify-content:center;}
.sc-card-ico{font-size:18px;}
.sc-card-ring{position:absolute;inset:0;border:1px solid var(--cc,rgba(0,245,255,.3));border-radius:50%;animation:spin-slow 8s linear infinite;}
@keyframes spin-slow{to{transform:rotate(360deg)}}
.sc-card-ring::before{content:'';position:absolute;top:-2px;left:50%;transform:translateX(-50%);width:4px;height:4px;border-radius:50%;background:var(--cc,var(--cyan));box-shadow:0 0 8px var(--cc,var(--cyan));}
.sc-card-label{font-family:'Orbitron',monospace;font-size:6.5px;letter-spacing:2px;color:var(--t3);}
.sc-card-name{font-family:'Orbitron',sans-serif;font-size:11px;letter-spacing:1px;color:var(--cc,var(--cyan));margin-bottom:6px;line-height:1.3;text-shadow:0 0 10px rgba(0,245,255,.25);}
.sc-card-desc{font-size:11.5px;color:rgba(180,210,240,.85);line-height:1.5;margin-bottom:10px;}
.sc-card-footer{display:flex;align-items:center;justify-content:space-between;border-top:1px solid rgba(0,245,255,.08);padding-top:8px;}
.sc-card-tag{font-family:'Orbitron',monospace;font-size:6.5px;letter-spacing:1.5px;padding:2px 6px;border:1px solid rgba(0,245,255,.1);color:var(--t3);}
.sc-card-btn{font-family:'Orbitron',monospace;font-size:8px;letter-spacing:2px;color:var(--cc,var(--cyan));display:flex;align-items:center;gap:5px;text-shadow:0 0 8px currentColor;transition:gap .18s;}
.sc-card-btn-line{width:16px;height:1px;background:var(--cc,var(--cyan));transition:width .18s;}
.sc-card:hover .sc-card-btn{gap:8px;}
.sc-card:hover .sc-card-btn-line{width:24px;}

/* NEW badge */
.new-badge{
  position:absolute;top:8px;right:8px;z-index:10;
  font-family:'Orbitron',monospace;font-size:6px;letter-spacing:1.5px;
  color:var(--bg);background:var(--grn);padding:2px 6px;
  box-shadow:0 0 10px rgba(0,255,136,.6);
  clip-path:polygon(4px 0%,100% 0%,calc(100% - 4px) 100%,0% 100%);
  animation:newbadge 2s ease-in-out infinite;
}
@keyframes newbadge{0%,100%{box-shadow:0 0 10px rgba(0,255,136,.6)}50%{box-shadow:0 0 20px rgba(0,255,136,.9),0 0 35px rgba(0,255,136,.4)}}

@keyframes rpl{0%{transform:scale(0);opacity:.35}100%{transform:scale(4);opacity:0}}
.rpl{position:absolute;width:60px;height:60px;border-radius:50%;background:rgba(0,245,255,.15);pointer-events:none;animation:rpl .55s ease-out forwards;transform-origin:center;z-index:5;}

/* ‚ïê‚ïê FOOTER ‚ïê‚ïê */
footer{
  background:rgba(0,0,0,.85);border-top:1px solid var(--bc);
  padding:0;
  display:flex;flex-direction:column;
  font-family:'Orbitron',sans-serif;
  box-shadow:0 0 20px rgba(0,245,255,.06);
}

/* ‚îÄ‚îÄ Visitor counter bar inside footer ‚îÄ‚îÄ */
.vc-bar{
  display:flex;align-items:stretch;
  border-bottom:1px solid rgba(0,245,255,.1);
  background:rgba(0,0,0,.6);
  overflow-x:auto;
  scrollbar-width:none;
  position:relative;
}
.vc-bar::-webkit-scrollbar{display:none;}
.vc-bar::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;
  background:linear-gradient(90deg,transparent,var(--grn),var(--cyan),var(--pink),var(--cyan),var(--grn),transparent);opacity:.5;}

.vc-label-cell{
  display:flex;align-items:center;justify-content:center;flex-direction:column;gap:2px;
  padding:6px 10px;flex-shrink:0;
  background:linear-gradient(180deg,rgba(0,255,136,.06),rgba(0,255,136,.01));
  border-right:1px solid rgba(0,255,136,.15);
  min-width:52px;
}
.vc-label-icon{font-size:14px;line-height:1;}
.vc-label-txt{font-family:'Orbitron',monospace;font-size:5px;letter-spacing:2px;color:rgba(0,255,136,.6);text-transform:uppercase;white-space:nowrap;}

.vc-cell{
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  padding:8px 18px;gap:2px;
  border-right:1px solid rgba(0,245,255,.07);
  flex-shrink:0;min-width:100px;
  position:relative;
  transition:background .2s;
}
.vc-cell:last-child{border-right:none;}
.vc-cell:hover{background:rgba(0,245,255,.03);}
.vc-cell::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;
  background:var(--vc,var(--cyan));box-shadow:0 0 6px var(--vc,var(--cyan));opacity:.5;}
.vc-cell-lbl{font-family:'Orbitron',monospace;font-size:5.5px;letter-spacing:2px;color:var(--t3);text-transform:uppercase;white-space:nowrap;}
.vc-cell-val{font-family:'Share Tech Mono',monospace;font-size:18px;font-weight:700;
  color:var(--vc,var(--cyan));text-shadow:0 0 12px currentColor;line-height:1;
  transition:all .4s;white-space:nowrap;}
.vc-cell-sub{font-family:'Orbitron',monospace;font-size:5px;letter-spacing:1.5px;color:var(--t3);white-space:nowrap;}

/* live pulse dot */
.vc-pulse{display:inline-block;width:6px;height:6px;border-radius:50%;
  background:var(--grn);box-shadow:0 0 8px var(--grn);
  animation:blink 1.2s ease-in-out infinite;
  margin-right:3px;vertical-align:middle;flex-shrink:0;}

/* right side: update time + source */
.vc-right{
  margin-left:auto;flex-shrink:0;
  display:flex;flex-direction:column;align-items:flex-end;justify-content:center;
  padding:6px 12px;gap:3px;
  border-left:1px solid rgba(0,245,255,.07);
}
.vc-upd{font-family:'Orbitron',monospace;font-size:6px;letter-spacing:1.5px;color:var(--t3);}
.vc-upd span{color:var(--t2);}
.vc-src{font-family:'Orbitron',monospace;font-size:5px;letter-spacing:1px;color:rgba(0,245,255,.2);}

/* number update flash */
@keyframes num-flash{0%{opacity:.3;transform:translateY(-4px)}100%{opacity:1;transform:translateY(0)}}
.num-updated{animation:num-flash .35s ease;}

/* ‚îÄ‚îÄ Footer bottom row ‚îÄ‚îÄ */
.footer-bottom{
  padding:7px 14px;
  display:flex;justify-content:space-between;flex-wrap:wrap;gap:5px;
}
.fl{font-size:7px;color:var(--t3);letter-spacing:1.5px;text-transform:uppercase}
.fl span{color:var(--cyan);text-shadow:0 0 8px rgba(0,245,255,.4)}
.fr{font-size:7px;color:rgba(0,245,255,.45);letter-spacing:1px}

/* ‚ïê‚ïê FLOATING CORNER BADGE (bottom-left) ‚ïê‚ïê */
#vc-corner{
  position:fixed;bottom:20px;left:16px;z-index:9990;
  background:rgba(0,0,0,.92);
  border:1px solid rgba(0,245,255,.22);
  padding:9px 14px 8px;
  clip-path:polygon(8px 0%,100% 0%,calc(100% - 8px) 100%,0% 100%);
  box-shadow:0 0 24px rgba(0,245,255,.1),inset 0 0 14px rgba(0,245,255,.02);
  min-width:148px;
  cursor:default;
  transition:opacity .3s,transform .3s;
}
#vc-corner::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;
  background:linear-gradient(90deg,var(--grn),var(--cyan),var(--pink));opacity:.55;}
#vc-corner.hidden-badge{opacity:0;pointer-events:none;transform:translateY(10px);}
.vc-corner-title{font-family:'Orbitron',monospace;font-size:5.5px;letter-spacing:2px;color:var(--t3);margin-bottom:5px;text-transform:uppercase;}
.vc-corner-main{display:flex;align-items:center;gap:8px;margin-bottom:3px;}
.vc-corner-ico{font-size:16px;}
.vc-corner-nums{display:flex;flex-direction:column;gap:1px;}
.vc-corner-big{font-family:'Share Tech Mono',monospace;font-size:20px;font-weight:700;line-height:1;color:var(--grn);text-shadow:0 0 12px rgba(0,255,136,.5);}
.vc-corner-lbl{font-family:'Orbitron',monospace;font-size:5px;letter-spacing:1.5px;color:rgba(0,255,136,.55);}
.vc-corner-divider{width:100%;height:1px;background:rgba(0,245,255,.08);margin:5px 0;}
.vc-corner-row2{display:flex;align-items:center;justify-content:space-between;width:100%;}
.vc-stat{font-family:'Orbitron',monospace;font-size:6px;letter-spacing:1px;color:var(--t3);display:flex;align-items:center;gap:3px;}
.vc-stat .n{font-family:'Share Tech Mono',monospace;font-size:12px;font-weight:700;}
.vc-corner-foot{display:flex;align-items:center;gap:4px;margin-top:5px;}
.vc-corner-pulse-dot{width:5px;height:5px;border-radius:50%;background:var(--grn);box-shadow:0 0 8px var(--grn);animation:blink 1.2s ease-in-out infinite;flex-shrink:0;}
.vc-corner-status{font-family:'Orbitron',monospace;font-size:5.5px;color:rgba(0,255,136,.65);letter-spacing:1.5px;}

/* ‚ïê‚ïê FLOATING BACK BUTTON ‚ïê‚ïê */
#floatback{position:fixed;bottom:20px;right:16px;z-index:9999;display:none;align-items:center;gap:6px;padding:9px 14px;
  font-family:'Orbitron',sans-serif;font-size:9px;font-weight:700;letter-spacing:2px;
  color:var(--bg);background:var(--pink);border:none;cursor:pointer;
  clip-path:polygon(8px 0%,100% 0%,calc(100% - 8px) 100%,0% 100%);
  box-shadow:0 0 24px rgba(255,0,144,.6),0 0 48px rgba(255,0,144,.3);
  animation:floatpulse 2s ease-in-out infinite;transition:transform .15s;
  touch-action:manipulation;}
#floatback:hover{transform:scale(1.06)}
#floatback.visible{display:flex}
@keyframes floatpulse{
  0%,100%{box-shadow:0 0 24px rgba(255,0,144,.6),0 0 48px rgba(255,0,144,.3)}
  50%{box-shadow:0 0 36px rgba(255,0,144,.9),0 0 64px rgba(255,0,144,.5)}}
#floatback .kbhint{font-size:6px;opacity:.7;letter-spacing:1px;border:1px solid rgba(0,0,0,.3);padding:1px 4px;border-radius:2px;background:rgba(0,0,0,.2);}

/* ‚ïê‚ïê IFRAME VIEWER ‚ïê‚ïê */
#viewer{position:fixed;inset:0;z-index:500;display:none;flex-direction:column;background:var(--bg);}
#viewer.open{display:flex}
#vbar{background:rgba(0,0,0,.92);border-bottom:1px solid var(--cyan);padding:6px 12px;
  display:flex;align-items:center;gap:10px;font-family:'Orbitron',sans-serif;font-size:9px;letter-spacing:2px;
  flex-shrink:0;box-shadow:0 0 20px rgba(0,245,255,.15);position:relative;z-index:501;}
#vtitle{color:var(--cyan);font-weight:700;font-size:10px;text-shadow:0 0 12px rgba(0,245,255,.5);flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
#vopen{padding:5px 10px;font-size:7.5px;letter-spacing:2px;font-family:'Orbitron',sans-serif;text-transform:uppercase;border:1px solid rgba(0,245,255,.3);color:var(--cyan);background:rgba(0,245,255,.05);cursor:pointer;transition:background .15s;touch-action:manipulation;}
#vopen:hover{background:rgba(0,245,255,.12)}
#vclose{padding:5px 12px;font-size:7.5px;letter-spacing:2px;font-family:'Orbitron',sans-serif;text-transform:uppercase;border:1px solid rgba(255,0,144,.4);color:var(--pink);background:rgba(255,0,144,.05);cursor:pointer;transition:background .15s;clip-path:polygon(6px 0%,100% 0%,calc(100% - 6px) 100%,0% 100%);touch-action:manipulation;}
#vclose:hover{background:rgba(255,0,144,.15)}
#vframe-wrap{flex:1;width:100%;background:#000;position:relative;overflow:hidden;}
#vload{position:absolute;inset:0;background:var(--bg);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;pointer-events:none;transition:opacity .4s;}
#vload.hidden{opacity:0}
.lspinner{width:36px;height:36px;border-radius:50%;border:2px solid rgba(0,245,255,.1);border-top-color:var(--cyan);animation:spin 1s linear infinite;box-shadow:0 0 16px rgba(0,245,255,.3);}
@keyframes spin{to{transform:rotate(360deg)}}
.ltxt{font-family:'Orbitron',sans-serif;font-size:8px;color:var(--t3);letter-spacing:3px}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   RESPONSIVE BREAKPOINTS
   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
@media(min-width:1280px){
  .wc{min-width:72px;padding:5px 10px;}
  .wc-time{font-size:13px;}
  .wc-zone{font-size:6.5px;}
  .wc-flag{font-size:10px;}
  .bname{font-size:15px;}
  .logo{width:46px;height:46px;font-size:20px;}
  .mbar-item{min-width:110px;}
  .mbar-val{font-size:15px;}
  .mbar-chg{font-size:10px;}
  .sb .v{font-size:16px;}
  .sc-card-name{font-size:12px;}
  .sc-card-desc{font-size:12px;}
  .groups{margin:14px 18px 18px;}
  .sec{padding:11px 18px 9px;}
  .footer-bottom{padding:9px 18px;}
  .vc-cell{min-width:110px;padding:9px 20px;}
  .vc-cell-val{font-size:20px;}
}
@media(max-width:1279px) and (min-width:960px){
  .wc.hide-lg{display:none;}
  .wc-sep.hide-lg{display:none;}
  .wc-time{font-size:12px;}
  .mbar-item{min-width:95px;}
}
@media(max-width:959px){
  .stats{grid-template-columns:repeat(2,1fr);}
  .sc-cards{grid-template-columns:repeat(2,1fr);}
  .sc-card:nth-child(2n){border-right:none;}
  .sc-card:nth-child(n+3){border-top:1px solid rgba(0,245,255,.07);}
  .sc-cards-4{grid-template-columns:repeat(2,1fr);}
  .sc-cards-4 .sc-card:nth-child(2n){border-right:none;}
  .sc-cards-4 .sc-card:nth-child(n+3){border-top:1px solid rgba(0,245,255,.07);}
  .wc#wc-hkt,.wc#wc-jst{display:none;}
  .wc-sep.hide-md{display:none;}
  .vc-cell{min-width:90px;padding:7px 12px;}
  .vc-cell-val{font-size:16px;}
}
@media(max-width:767px){
  header{flex-wrap:wrap;padding:8px 12px 6px;gap:6px;}
  .brand{order:1;flex:1;}
  .hright{order:2;}
  .wclocks{order:3;width:100%;justify-content:flex-start;padding:5px 0 2px;border-top:1px solid rgba(0,245,255,.07);}
  .sc-cards{grid-template-columns:repeat(2,1fr);}
  .sc-cards-4{grid-template-columns:repeat(2,1fr);}
  .sc-card:nth-child(2n),.sc-cards-4 .sc-card:nth-child(2n){border-right:none;}
  .sc-card:nth-child(n+3),.sc-cards-4 .sc-card:nth-child(n+3){border-top:1px solid rgba(0,245,255,.07);}
  #vc-corner{bottom:14px;left:10px;}
}
@media(max-width:599px){
  .tb{padding:3px 10px;font-size:7.5px;}
  .tb-l{font-size:7px;letter-spacing:1px;}
  .tb-r{gap:8px;font-size:7px;}
  header{padding:8px 10px 6px;gap:6px;}
  .brand{gap:8px;}
  .logo{width:34px;height:34px;font-size:15px;}
  .bname{font-size:11px;letter-spacing:1px;}
  .bsub{display:none;}
  .hright{gap:4px;}
  .pill.p{display:none;}
  .pill{padding:3px 6px;font-size:6.5px;}
  .wclocks{gap:2px;padding:4px 0 2px;flex-wrap:nowrap;overflow-x:auto;}
  .wc#wc-hkt,.wc#wc-jst{display:none;}
  .wc{min-width:54px;padding:3px 6px;}
  .wc-flag{font-size:7px;}
  .wc-time{font-size:10px;}
  .wc-zone{font-size:5.5px;letter-spacing:1px;}
  .wc-label{display:none;}
  .wc-status-dot{width:3px;height:3px;top:3px;right:3px;}
  .wc-sep{height:18px;}
  .mbar-label{width:28px;padding:5px 4px;}
  .mbar-label-flag{font-size:10px;}
  .mbar-label-txt{font-size:4.5px;}
  .mbar-item{min-width:84px;padding:5px 10px;}
  .mbar-val{font-size:12px;}
  .mbar-chg{font-size:8px;}
  .mbar-name{font-size:6px;letter-spacing:1px;}
  .tkr{display:none;}
  .stats{grid-template-columns:repeat(2,1fr);}
  .sb{padding:8px 10px;}
  .sb .l{font-size:6.5px;letter-spacing:1.5px;}
  .sb .v{font-size:12px;}
  .sb .s{font-size:8px;}
  .sec{padding:8px 10px;}
  .sec-txt{font-size:7px;letter-spacing:1.5px;}
  .sec-bdg{font-size:6.5px;padding:2px 6px;}
  .groups{margin:8px 8px 12px;}
  .sc-group{margin-bottom:10px;}
  .sc-head{padding:8px 10px;gap:8px;}
  .sc-head-hex{width:30px;height:30px;font-size:13px;}
  .sc-head-tag{display:none;}
  .sc-head-name{font-size:10px;letter-spacing:1px;}
  .sc-head-status{font-size:7px;}
  .sc-head-nodes{font-size:7.5px;}
  .sc-cards,.sc-cards-4{grid-template-columns:1fr;}
  .sc-card{border-right:none;border-bottom:1px solid rgba(0,245,255,.07);padding:12px;}
  .sc-card:last-child{border-bottom:none;}
  .sc-card:nth-child(2n){border-right:none;}
  .sc-card:nth-child(n+3){border-top:none;}
  .sc-cards-4 .sc-card:nth-child(2n){border-right:none;}
  .sc-cards-4 .sc-card:nth-child(n+3){border-top:none;}
  .sc-card-topbar{margin:-12px -12px 10px;}
  .sc-card-name{font-size:11px;}
  .sc-card-desc{font-size:11px;margin-bottom:8px;}
  .sc-card-tag{font-size:6px;}
  .sc-card-btn{font-size:7.5px;}
  .sc-card-ico{font-size:16px;}
  .sc-card-ico-wrap{width:30px;height:30px;}
  .footer-bottom{padding:7px 10px;flex-direction:column;gap:3px;}
  .fl,.fr{font-size:6.5px;letter-spacing:1px;}
  .fr{display:none;}
  #floatback{bottom:14px;right:12px;padding:8px 12px;font-size:8px;}
  #floatback .kbhint{display:none;}
  #vbar{padding:5px 10px;gap:8px;}
  #vtitle{font-size:8.5px;}
  #vopen{font-size:7px;padding:4px 8px;}
  #vclose{font-size:7px;padding:4px 10px;}
  .vc-cell{min-width:78px;padding:6px 10px;}
  .vc-cell-val{font-size:14px;}
  .vc-cell-lbl{font-size:5px;}
  .vc-cell-sub{display:none;}
  .vc-label-cell{min-width:40px;padding:5px 6px;}
  #vc-corner{bottom:12px;left:8px;min-width:130px;padding:7px 12px 7px;}
  .vc-corner-big{font-size:17px;}
}
@media(max-width:380px){
  .bname{font-size:10px;}
  .wc{min-width:48px;}
  .wc-time{font-size:9px;}
  .mbar-item{min-width:76px;padding:4px 8px;}
  .mbar-val{font-size:11px;}
  .sc-card-name{font-size:10px;}
  .sc-head-name{font-size:9px;}
  header{padding:6px 8px;}
  .logo{width:30px;height:30px;font-size:13px;}
  .pill.g .dot{display:none;}
}
@media(hover:none){
  .sc-card:hover{background:transparent;}
  .sc-card:hover .sc-card-topbar{opacity:.5;}
  .sc-card:hover .brk{width:10px;height:10px;bottom:10px;right:10px;border-color:var(--t3);}
  .sc-card:hover .sc-card-btn{gap:5px;}
  .sc-card:hover .sc-card-btn-line{width:16px;}
  .sc-card:active{background:rgba(0,245,255,.04);}
  .wc:hover{background:rgba(0,245,255,.03);}
}
@supports(padding-bottom:env(safe-area-inset-bottom)){
  footer{padding-bottom:env(safe-area-inset-bottom);}
  #floatback{bottom:calc(20px + env(safe-area-inset-bottom));}
  #vc-corner{bottom:calc(20px + env(safe-area-inset-bottom));}
}
</style>
</head>
<body>
<div id="scan"></div>
<div id="app">

<!-- ‚ïê‚ïê TOPBAR ‚ïê‚ïê -->
<div class="tb">
  <div class="tb-l">NIFTY INDIAN <span class="ver">MARKETS HUB // LIVE</span></div>
  <div class="tb-r">
    <span class="live"><span class="dot"></span>SIGNAL_OK</span>
    <span>IST <span class="v" id="ct">--:--:--</span></span>
  </div>
</div>

<!-- ‚ïê‚ïê HEADER ‚ïê‚ïê -->
<header>
  <div class="brand">
    <div class="logo">üìä</div>
    <div>
      <div class="bname">NIFTY Indian <span>Markets HUB</span></div>
      <div class="bsub">Intelligence Hub ¬∑ 9 Nodes Active</div>
    </div>
  </div>

  <div class="wclocks" id="wclocks">
    <div class="wc" id="wc-ist">
      <div class="wc-flag">üáÆüá≥</div>
      <div class="wc-zone">IST</div>
      <div class="wc-time" id="wt-ist">--:--:--</div>
      <div class="wc-label">INDIA</div>
      <div class="wc-status-dot"></div>
    </div>
    <div class="wc-sep"></div>
    <div class="wc" id="wc-sgt">
      <div class="wc-flag">üá∏üá¨</div>
      <div class="wc-zone">SGT</div>
      <div class="wc-time" id="wt-sgt">--:--:--</div>
      <div class="wc-label">SGX NIFTY</div>
      <div class="wc-status-dot"></div>
    </div>
    <div class="wc-sep"></div>
    <div class="wc" id="wc-hkt">
      <div class="wc-flag">üá≠üá∞</div>
      <div class="wc-zone">HKT</div>
      <div class="wc-time" id="wt-hkt">--:--:--</div>
      <div class="wc-label">HANG SENG</div>
      <div class="wc-status-dot"></div>
    </div>
    <div class="wc-sep"></div>
    <div class="wc" id="wc-gmt">
      <div class="wc-flag">üá¨üáß</div>
      <div class="wc-zone" id="wz-gmt">GMT</div>
      <div class="wc-time" id="wt-gmt">--:--:--</div>
      <div class="wc-label">LONDON</div>
      <div class="wc-status-dot"></div>
    </div>
    <div class="wc-sep"></div>
    <div class="wc" id="wc-cet">
      <div class="wc-flag">üá™üá∫</div>
      <div class="wc-zone" id="wz-cet">CET</div>
      <div class="wc-time" id="wt-cet">--:--:--</div>
      <div class="wc-label">FRANKFURT</div>
      <div class="wc-status-dot"></div>
    </div>
    <div class="wc-sep"></div>
    <div class="wc" id="wc-est">
      <div class="wc-flag">üá∫üá∏</div>
      <div class="wc-zone" id="wz-est">EST</div>
      <div class="wc-time" id="wt-est">--:--:--</div>
      <div class="wc-label">NEW YORK</div>
      <div class="wc-status-dot"></div>
    </div>
    <div class="wc-sep"></div>
    <div class="wc" id="wc-jst">
      <div class="wc-flag">üáØüáµ</div>
      <div class="wc-zone">JST</div>
      <div class="wc-time" id="wt-jst">--:--:--</div>
      <div class="wc-label">TOKYO</div>
      <div class="wc-status-dot"></div>
    </div>
  </div>

  <div class="hright">
    <div class="pill g"><span class="dot"></span>ALL LIVE</div>
    <div class="pill p">NSE ¬∑ BSE ¬∑ NYSE</div>
  </div>
</header>

<!-- ‚ïê‚ïê LIVE MARKET BAR ‚ïê‚ïê -->
<div class="mbar" id="mbar">
  <div class="mbar-updated" id="mbar-ts"></div>
  <div class="mbar-row">
    <div class="mbar-label india">
      <div class="mbar-label-flag">üáÆüá≥</div>
      <div class="mbar-label-txt">INDIA</div>
    </div>
    <div class="mbar-items" id="mbar-india">
      <div class="mbar-item" id="mi-n50" style="--ic:var(--cyan);--is:rgba(0,245,255,.3);">
        <div class="mbar-name">NIFTY 50</div>
        <div class="mbar-val" id="mv-n50">¬∑¬∑¬∑</div>
        <div class="mbar-chg" id="mc-n50">¬∑¬∑¬∑</div>
        <div class="mbar-src" id="ms-n50"></div>
      </div>
      <div class="mbar-item" id="mi-bn" style="--ic:var(--pink);--is:rgba(255,0,144,.3);">
        <div class="mbar-name">BANK NIFTY</div>
        <div class="mbar-val" id="mv-bn">¬∑¬∑¬∑</div>
        <div class="mbar-chg" id="mc-bn">¬∑¬∑¬∑</div>
        <div class="mbar-src" id="ms-bn"></div>
      </div>
      <div class="mbar-item is-vix" id="mi-vix" style="--ic:var(--yel);--is:rgba(255,224,0,.3);">
        <div class="mbar-name">INDIA VIX</div>
        <div class="mbar-val" id="mv-vix">¬∑¬∑¬∑</div>
        <div class="mbar-chg vix" id="mc-vix">¬∑¬∑¬∑</div>
        <div class="mbar-src" id="ms-vix"></div>
      </div>
      <div class="mbar-item" id="mi-fn" style="--ic:var(--grn);--is:rgba(0,255,136,.3);">
        <div class="mbar-name">FINNIFTY</div>
        <div class="mbar-val" id="mv-fn">¬∑¬∑¬∑</div>
        <div class="mbar-chg" id="mc-fn">¬∑¬∑¬∑</div>
        <div class="mbar-src" id="ms-fn"></div>
      </div>
      <div class="mbar-item" id="mi-sx" style="--ic:var(--t2);--is:rgba(0,245,255,.2);">
        <div class="mbar-name">SENSEX</div>
        <div class="mbar-val" id="mv-sx">¬∑¬∑¬∑</div>
        <div class="mbar-chg" id="mc-sx">¬∑¬∑¬∑</div>
        <div class="mbar-src" id="ms-sx"></div>
      </div>
    </div>
  </div>
  <div class="mbar-row">
    <div class="mbar-label global">
      <div class="mbar-label-flag">üåê</div>
      <div class="mbar-label-txt">GLOBAL</div>
    </div>
    <div class="mbar-items" id="mbar-global">
      <div class="mbar-item" id="mi-sp" style="--ic:var(--pink);--is:rgba(255,0,144,.3);">
        <div class="mbar-name">S&amp;P 500</div>
        <div class="mbar-val" id="mv-sp">¬∑¬∑¬∑</div>
        <div class="mbar-chg" id="mc-sp">¬∑¬∑¬∑</div>
        <div class="mbar-src" id="ms-sp"></div>
      </div>
      <div class="mbar-item" id="mi-ndq" style="--ic:var(--pur);--is:rgba(157,0,255,.35);">
        <div class="mbar-name">NASDAQ</div>
        <div class="mbar-val" id="mv-ndq">¬∑¬∑¬∑</div>
        <div class="mbar-chg" id="mc-ndq">¬∑¬∑¬∑</div>
        <div class="mbar-src" id="ms-ndq"></div>
      </div>
      <div class="mbar-item" id="mi-dji" style="--ic:var(--cyan);--is:rgba(0,245,255,.2);">
        <div class="mbar-name">DOW JONES</div>
        <div class="mbar-val" id="mv-dji">¬∑¬∑¬∑</div>
        <div class="mbar-chg" id="mc-dji">¬∑¬∑¬∑</div>
        <div class="mbar-src" id="ms-dji"></div>
      </div>
      <div class="mbar-item" id="mi-inr" style="--ic:var(--yel);--is:rgba(255,224,0,.25);">
        <div class="mbar-name">USD/INR</div>
        <div class="mbar-val" id="mv-inr">¬∑¬∑¬∑</div>
        <div class="mbar-chg" id="mc-inr">¬∑¬∑¬∑</div>
        <div class="mbar-src" id="ms-inr"></div>
      </div>
      <div class="mbar-item" id="mi-crude" style="--ic:rgba(255,160,0,.9);--is:rgba(255,160,0,.25);">
        <div class="mbar-name">CRUDE OIL</div>
        <div class="mbar-val" id="mv-crude">¬∑¬∑¬∑</div>
        <div class="mbar-chg" id="mc-crude">¬∑¬∑¬∑</div>
        <div class="mbar-src" id="ms-crude"></div>
      </div>
      <div class="mbar-item" id="mi-gold" style="--ic:#ffd700;--is:rgba(255,215,0,.35);">
        <div class="mbar-name">GOLD</div>
        <div class="mbar-val" id="mv-gold">¬∑¬∑¬∑</div>
        <div class="mbar-chg" id="mc-gold">¬∑¬∑¬∑</div>
        <div class="mbar-src" id="ms-gold"></div>
      </div>
      <div class="mbar-item" id="mi-silver" style="--ic:#c0c0c0;--is:rgba(192,192,192,.3);">
        <div class="mbar-name">SILVER</div>
        <div class="mbar-val" id="mv-silver">¬∑¬∑¬∑</div>
        <div class="mbar-chg" id="mc-silver">¬∑¬∑¬∑</div>
        <div class="mbar-src" id="ms-silver"></div>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê TICKER ‚ïê‚ïê -->
<div class="tkr"><div class="tkr-t" id="tkr"></div></div>

<!-- ‚ïê‚ïê STATS ‚ïê‚ïê -->
<div class="stats">
  <div class="sb" style="--sc:#00f5ff;--sg:'09'">
    <div class="l">Nodes Online</div>
    <div class="v">09</div>
    <div class="s">All dashboards active</div>
  </div>
  <div class="sb" style="--sc:#00ff88;--sg:'IN'">
    <div class="l">Indian Markets</div>
    <div class="v">NSE ¬∑ BSE</div>
    <div class="s">Nifty ¬∑ Sensex ¬∑ OPT</div>
  </div>
  <div class="sb" style="--sc:#ffe000;--sg:'US'">
    <div class="l">US Markets</div>
    <div class="v">S&amp;P 500</div>
    <div class="s">500 stocks tracked</div>
  </div>
  <div class="sb" style="--sc:#ff0090;--sg:'‚óà'">
    <div class="l">Last Node</div>
    <div class="v" id="lc" style="font-size:11px;padding-top:2px">‚Äî</div>
    <div class="s">Session log</div>
  </div>
</div>

<!-- ‚ïê‚ïê SECTION ‚ïê‚ïê -->
<div class="sec">
  <div class="sec-bar"></div>
  <div class="sec-txt">‚ñ∂ Select Dashboard Node</div>
  <div class="sec-bdg">9/9 ONLINE</div>
</div>

<!-- ‚ïê‚ïê GROUPED PODS ‚ïê‚ïê -->
<div class="groups">

  <!-- GROUP 1: NIFTY INTELLIGENCE -->
  <div class="sc-group" style="--ga:rgba(0,245,255,.22);--gb:rgba(0,245,255,.04);--gc:var(--cyan);">
    <div class="sc-inner">
      <div class="sc-head">
        <div class="sc-head-hex" style="border-color:var(--cyan);box-shadow:0 0 14px rgba(0,245,255,.3);">üìä</div>
        <div class="sc-head-info">
          <div class="sc-head-tag">GROUP 01 // NSE ANALYTICS SUITE</div>
          <div class="sc-head-name" style="color:var(--cyan);">NIFTY INTELLIGENCE</div>
        </div>
        <div class="sc-head-right">
          <div class="sc-head-status"><span class="dot"></span>4 NODES ONLINE</div>
          <div class="sc-head-nodes">NSE ¬∑ INDIA MARKETS</div>
        </div>
      </div>
      <div class="sc-cards-4">
        <a class="sc-card" href="https://krishnateja08.github.io/Nifty_50_Stock_Analyzer/" onclick="go(event,'Nifty 50 Analyzer')" style="--cc:var(--cyan);">
          <div class="brk"></div>
          <div class="sc-card-inner">
            <div class="sc-card-topbar"></div><div class="sc-card-glow"></div>
            <div class="sc-card-top">
              <div class="sc-card-ico-wrap"><div class="sc-card-ico">üìà</div><div class="sc-card-ring" style="border-color:rgba(0,245,255,.35);"></div></div>
              <div class="sc-card-label">ANALYSIS</div>
            </div>
            <div class="sc-card-name">Nifty 50 Analyzer</div>
            <div class="sc-card-desc">Deep technical analysis of all Nifty 50 stocks ‚Äî RSI, MACD, EMA, support &amp; resistance levels.</div>
            <div class="sc-card-footer"><span class="sc-card-tag">NSE ¬∑ NIFTY 50</span><div class="sc-card-btn"><div class="sc-card-btn-line"></div>LAUNCH</div></div>
          </div>
        </a>
        <a class="sc-card" href="https://krishnateja08.github.io/Nifty_Indices_scanner/" onclick="go(event,'Nifty Indices Scanner')" style="--cc:var(--cyan);">
          <div class="brk"></div>
          <div class="sc-card-inner">
            <div class="sc-card-topbar"></div><div class="sc-card-glow"></div>
            <div class="sc-card-top">
              <div class="sc-card-ico-wrap"><div class="sc-card-ico">üîç</div><div class="sc-card-ring" style="border-color:rgba(0,245,255,.35);animation-delay:-2.5s;"></div></div>
              <div class="sc-card-label">SCANNER</div>
            </div>
            <div class="sc-card-name">Nifty Indices Scanner</div>
            <div class="sc-card-desc">Real-time scanner across all Nifty indices ‚Äî momentum, breakouts and sector rotation signals.</div>
            <div class="sc-card-footer"><span class="sc-card-tag">NSE ¬∑ INDICES</span><div class="sc-card-btn"><div class="sc-card-btn-line"></div>LAUNCH</div></div>
          </div>
        </a>
        <a class="sc-card" href="https://krishnateja08.github.io/Alphascreener/" onclick="go(event,'AlphaScreener')" style="--cc:var(--cyan);">
          <div class="new-badge">NEW</div>
          <div class="brk"></div>
          <div class="sc-card-inner">
            <div class="sc-card-topbar"></div><div class="sc-card-glow"></div>
            <div class="sc-card-top">
              <div class="sc-card-ico-wrap"><div class="sc-card-ico">üéõÔ∏è</div><div class="sc-card-ring" style="border-color:rgba(0,245,255,.35);animation-delay:-1s;"></div></div>
              <div class="sc-card-label">SCREENER</div>
            </div>
            <div class="sc-card-name">AlphaScreener</div>
            <div class="sc-card-desc">Multi-timeframe stock &amp; index screener ‚Äî India &amp; USA, sector filters, Nifty 50, Bank Nifty &amp; Fin Nifty.</div>
            <div class="sc-card-footer"><span class="sc-card-tag">NSE ¬∑ USA ¬∑ MULTI-TF</span><div class="sc-card-btn"><div class="sc-card-btn-line"></div>LAUNCH</div></div>
          </div>
        </a>
        <a class="sc-card" href="https://krishnateja08.github.io/FII-DII_Pulse/" onclick="go(event,'FII/DII Pulse')" style="--cc:var(--cyan);">
          <div class="brk"></div>
          <div class="sc-card-inner">
            <div class="sc-card-topbar"></div><div class="sc-card-glow"></div>
            <div class="sc-card-top">
              <div class="sc-card-ico-wrap"><div class="sc-card-ico">üèõÔ∏è</div><div class="sc-card-ring" style="border-color:rgba(0,245,255,.35);animation-delay:-5s;"></div></div>
              <div class="sc-card-label">INSTITUTIONAL</div>
            </div>
            <div class="sc-card-name">FII / DII Pulse</div>
            <div class="sc-card-desc">Sector-wise institutional activity ‚Äî FII &amp; DII bulk/block deals with technical signals &amp; RSI.</div>
            <div class="sc-card-footer"><span class="sc-card-tag">NSE ¬∑ BULK DEALS</span><div class="sc-card-btn"><div class="sc-card-btn-line"></div>LAUNCH</div></div>
          </div>
        </a>
      </div>
    </div>
  </div>

  <!-- GROUP 2: OPTIONS COMMAND -->
  <div class="sc-group" style="--ga:rgba(255,0,144,.22);--gb:rgba(255,0,144,.04);--gc:var(--pink);">
    <div class="sc-inner">
      <div class="sc-head" style="background:linear-gradient(90deg,rgba(6,4,15,.99),rgba(6,4,15,.85));">
        <div class="sc-head-hex" style="border-color:var(--pink);box-shadow:0 0 14px rgba(255,0,144,.3);background:linear-gradient(135deg,rgba(255,0,144,.12),rgba(157,0,255,.06));">‚õìÔ∏è</div>
        <div class="sc-head-info">
          <div class="sc-head-tag">GROUP 02 // OPTIONS &amp; DERIVATIVES DESK</div>
          <div class="sc-head-name" style="color:var(--pink);text-shadow:0 0 12px rgba(255,0,144,.4);">OPTIONS COMMAND</div>
        </div>
        <div class="sc-head-right">
          <div class="sc-head-status"><span class="dot"></span>3 NODES ONLINE</div>
          <div class="sc-head-nodes">NSE ¬∑ DERIVATIVES</div>
        </div>
      </div>
      <div class="sc-cards">
        <a class="sc-card" href="https://krishnateja08.github.io/Nifty_option_chain/" onclick="go(event,'Nifty Option Chain')" style="--cc:var(--pink);">
          <div class="brk"></div>
          <div class="sc-card-inner">
            <div class="sc-card-topbar" style="background:linear-gradient(90deg,var(--pink),transparent);"></div>
            <div class="sc-card-glow" style="background:radial-gradient(rgba(255,0,144,.1),transparent 70%);"></div>
            <div class="sc-card-top">
              <div class="sc-card-ico-wrap"><div class="sc-card-ico">‚õìÔ∏è</div><div class="sc-card-ring" style="border-color:rgba(255,0,144,.4);"></div></div>
              <div class="sc-card-label">OPTIONS</div>
            </div>
            <div class="sc-card-name" style="color:var(--pink);text-shadow:0 0 10px rgba(255,0,144,.3);">Nifty Option Chain</div>
            <div class="sc-card-desc">Live option chain analysis ‚Äî OI buildup, PCR ratio, max pain and key strike price levels.</div>
            <div class="sc-card-footer" style="border-top-color:rgba(255,0,144,.1);">
              <span class="sc-card-tag" style="border-color:rgba(255,0,144,.15);">NSE ¬∑ OPTIONS</span>
              <div class="sc-card-btn" style="color:var(--pink);"><div class="sc-card-btn-line" style="background:var(--pink);"></div>LAUNCH</div>
            </div>
          </div>
        </a>
        <a class="sc-card" href="https://krishnateja08.github.io/Nifty-1HR_Track/" onclick="go(event,'Nifty 1HR Track')" style="--cc:var(--pink);">
          <div class="brk"></div>
          <div class="sc-card-inner">
            <div class="sc-card-topbar" style="background:linear-gradient(90deg,var(--pink),transparent);"></div>
            <div class="sc-card-glow" style="background:radial-gradient(rgba(255,0,144,.08),transparent 70%);"></div>
            <div class="sc-card-top">
              <div class="sc-card-ico-wrap"><div class="sc-card-ico">‚è±Ô∏è</div><div class="sc-card-ring" style="border-color:rgba(255,0,144,.4);animation-delay:-3s;"></div></div>
              <div class="sc-card-label">INTRADAY</div>
            </div>
            <div class="sc-card-name" style="color:var(--pink);text-shadow:0 0 10px rgba(255,0,144,.3);">Nifty 1HR Track</div>
            <div class="sc-card-desc">Hourly Nifty movement tracking ‚Äî intraday trend analysis and short-term momentum signals.</div>
            <div class="sc-card-footer" style="border-top-color:rgba(255,0,144,.1);">
              <span class="sc-card-tag" style="border-color:rgba(255,0,144,.15);">NSE ¬∑ INTRADAY</span>
              <div class="sc-card-btn" style="color:var(--pink);"><div class="sc-card-btn-line" style="background:var(--pink);"></div>LAUNCH</div>
            </div>
          </div>
        </a>
        <a class="sc-card" href="https://krishnateja08.github.io/optionstrategybuilder/" onclick="go(event,'Strategy Builder')" style="--cc:var(--pink);">
          <div class="brk"></div>
          <div class="sc-card-inner">
            <div class="sc-card-topbar" style="background:linear-gradient(90deg,var(--pink),transparent);"></div>
            <div class="sc-card-glow" style="background:radial-gradient(rgba(255,0,144,.08),transparent 70%);"></div>
            <div class="sc-card-top">
              <div class="sc-card-ico-wrap"><div class="sc-card-ico">üßÆ</div><div class="sc-card-ring" style="border-color:rgba(255,0,144,.4);animation-delay:-6s;"></div></div>
              <div class="sc-card-label">STRATEGY</div>
            </div>
            <div class="sc-card-name" style="color:var(--pink);text-shadow:0 0 10px rgba(255,0,144,.3);">Option Strategy Builder</div>
            <div class="sc-card-desc">Build and visualise options strategies ‚Äî P&amp;L charts, Greeks, breakeven for any strike &amp; expiry.</div>
            <div class="sc-card-footer" style="border-top-color:rgba(255,0,144,.1);">
              <span class="sc-card-tag" style="border-color:rgba(255,0,144,.15);">NSE ¬∑ P&amp;L ¬∑ GREEKS</span>
              <div class="sc-card-btn" style="color:var(--pink);"><div class="sc-card-btn-line" style="background:var(--pink);"></div>LAUNCH</div>
            </div>
          </div>
        </a>
      </div>
    </div>
  </div>

  <!-- GROUP 3: GLOBAL INTELLIGENCE -->
  <div class="sc-group" style="--ga:rgba(255,224,0,.2);--gb:rgba(255,224,0,.04);--gc:var(--yel);">
    <div class="sc-inner">
      <div class="sc-head" style="background:linear-gradient(90deg,rgba(6,4,15,.99),rgba(6,4,15,.85));">
        <div class="sc-head-hex" style="border-color:var(--yel);box-shadow:0 0 14px rgba(255,224,0,.25);background:linear-gradient(135deg,rgba(255,224,0,.1),rgba(255,160,0,.05));">üåê</div>
        <div class="sc-head-info">
          <div class="sc-head-tag">GROUP 03 // MACRO &amp; GLOBAL MARKETS</div>
          <div class="sc-head-name" style="color:var(--yel);text-shadow:0 0 12px rgba(255,224,0,.35);">GLOBAL INTELLIGENCE</div>
        </div>
        <div class="sc-head-right">
          <div class="sc-head-status"><span class="dot"></span>2 NODES ONLINE</div>
          <div class="sc-head-nodes">NYSE ¬∑ GLOBAL</div>
        </div>
      </div>
      <div class="sc-cards">
        <a class="sc-card" href="https://krishnateja08.github.io/USA-SP500-Stocks-Review/" onclick="go(event,'S&P 500 Review')" style="--cc:var(--yel);">
          <div class="brk"></div>
          <div class="sc-card-inner">
            <div class="sc-card-topbar" style="background:linear-gradient(90deg,var(--yel),transparent);"></div>
            <div class="sc-card-glow" style="background:radial-gradient(rgba(255,224,0,.08),transparent 70%);"></div>
            <div class="sc-card-top">
              <div class="sc-card-ico-wrap"><div class="sc-card-ico">üóΩ</div><div class="sc-card-ring" style="border-color:rgba(255,224,0,.4);"></div></div>
              <div class="sc-card-label">GLOBAL</div>
            </div>
            <div class="sc-card-name" style="color:var(--yel);text-shadow:0 0 10px rgba(255,224,0,.3);">USA S&amp;P 500 Review</div>
            <div class="sc-card-desc">Comprehensive S&amp;P 500 stock review ‚Äî US market analysis, sector performance and signals.</div>
            <div class="sc-card-footer" style="border-top-color:rgba(255,224,0,.1);">
              <span class="sc-card-tag" style="border-color:rgba(255,224,0,.2);">NYSE ¬∑ S&amp;P 500</span>
              <div class="sc-card-btn" style="color:var(--yel);"><div class="sc-card-btn-line" style="background:var(--yel);"></div>LAUNCH</div>
            </div>
          </div>
        </a>
        <a class="sc-card" href="https://krishnateja08.github.io/Global_Market_News/" onclick="go(event,'Global Market News')" style="--cc:var(--yel);">
          <div class="brk"></div>
          <div class="sc-card-inner">
            <div class="sc-card-topbar" style="background:linear-gradient(90deg,var(--yel),transparent);"></div>
            <div class="sc-card-glow" style="background:radial-gradient(rgba(255,224,0,.07),transparent 70%);"></div>
            <div class="sc-card-top">
              <div class="sc-card-ico-wrap"><div class="sc-card-ico">üåç</div><div class="sc-card-ring" style="border-color:rgba(255,224,0,.4);animation-delay:-4s;"></div></div>
              <div class="sc-card-label">INTELLIGENCE</div>
            </div>
            <div class="sc-card-name" style="color:var(--yel);text-shadow:0 0 10px rgba(255,224,0,.3);">Global Market News</div>
            <div class="sc-card-desc">Curated global market news ‚Äî macro events, earnings, central bank decisions and market moves.</div>
            <div class="sc-card-footer" style="border-top-color:rgba(255,224,0,.1);">
              <span class="sc-card-tag" style="border-color:rgba(255,224,0,.2);">GLOBAL ¬∑ NEWS</span>
              <div class="sc-card-btn" style="color:var(--yel);"><div class="sc-card-btn-line" style="background:var(--yel);"></div>LAUNCH</div>
            </div>
          </div>
        </a>
        <div class="sc-card" style="cursor:default;opacity:.18;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:8px;min-height:140px;">
          <div style="font-family:'Orbitron',monospace;font-size:26px;color:var(--yel);">+</div>
          <div style="font-family:'Orbitron',monospace;font-size:7px;letter-spacing:3px;color:var(--yel);">EXPAND NODE</div>
        </div>
      </div>
    </div>
  </div>

</div><!-- /groups -->

<!-- ‚ïê‚ïê FOOTER WITH VISITOR COUNTER ‚ïê‚ïê -->
<footer>
  <!-- Visitor Counter Bar -->
  <div class="vc-bar">
    <div class="vc-label-cell">
      <div class="vc-label-icon">üëÅÔ∏è</div>
      <div class="vc-label-txt">HUB<br>STATS</div>
    </div>

    <!-- Live Now -->
    <div class="vc-cell" style="--vc:var(--grn);">
      <div class="vc-cell-lbl"><span class="vc-pulse"></span>Live Now</div>
      <div class="vc-cell-val" id="vc-live">‚Äî</div>
      <div class="vc-cell-sub">ACTIVE SESSIONS</div>
    </div>

    <!-- Today -->
    <div class="vc-cell" style="--vc:var(--cyan);">
      <div class="vc-cell-lbl">Today</div>
      <div class="vc-cell-val" id="vc-today">‚Äî</div>
      <div class="vc-cell-sub">VISITS TODAY</div>
    </div>

    <!-- Total -->
    <div class="vc-cell" style="--vc:var(--pink);">
      <div class="vc-cell-lbl">Total</div>
      <div class="vc-cell-val" id="vc-total">‚Äî</div>
      <div class="vc-cell-sub">ALL TIME</div>
    </div>

    <!-- Peak -->
    <div class="vc-cell" style="--vc:var(--yel);">
      <div class="vc-cell-lbl">Peak Today</div>
      <div class="vc-cell-val" id="vc-peak">‚Äî</div>
      <div class="vc-cell-sub">MAX CONCURRENT</div>
    </div>

    <!-- Right meta -->
    <div class="vc-right">
      <div class="vc-upd">UPD <span id="vc-ts">--:--</span> IST</div>
      <div class="vc-src">COUNTAPI ¬∑ LIVE</div>
    </div>
  </div>

  <!-- Bottom text row -->
  <div class="footer-bottom">
    <div class="fl"><span>NIFTY INDIAN MARKETS HUB</span> // CYBER_NEON v2.2 // 9_NODES_ACTIVE</div>
    <div class="fr">SELECT_NODE ‚Üí OPEN // BACK ‚Üí RETURN_TO_HUB</div>
  </div>
</footer>

</div><!-- /#app -->

<!-- ‚ïê‚ïê FLOATING CORNER VISITOR BADGE ‚ïê‚ïê -->
<div id="vc-corner">
  <div class="vc-corner-title">üëÅ Hub Visitors</div>
  <div class="vc-corner-main">
    <div class="vc-corner-ico">üü¢</div>
    <div class="vc-corner-nums">
      <div class="vc-corner-big" id="vcc-live">‚Äî</div>
      <div class="vc-corner-lbl">LIVE NOW</div>
    </div>
  </div>
  <div class="vc-corner-divider"></div>
  <div class="vc-corner-row2">
    <div class="vc-stat">TODAY <span class="n" style="color:var(--cyan);" id="vcc-today">‚Äî</span></div>
    <div class="vc-stat">TOTAL <span class="n" style="color:var(--pink);" id="vcc-total">‚Äî</span></div>
  </div>
  <div class="vc-corner-foot">
    <div class="vc-corner-pulse-dot"></div>
    <div class="vc-corner-status">TRACKING ACTIVE</div>
  </div>
</div>

<button id="floatback" onclick="closeViewer(false)">‚Üê HUB <span class="kbhint">ESC</span></button>

<div id="viewer">
  <div id="vbar">
    <div id="vtitle">‚Äî NODE VIEWER ‚Äî</div>
    <button id="vopen" onclick="openExternal()">‚Üó OPEN TAB</button>
    <button id="vclose" onclick="closeViewer(false)">‚úï BACK TO HUB</button>
  </div>
  <div id="vload"><div class="lspinner"></div><div class="ltxt">LOADING NODE...</div></div>
  <div id="vframe-wrap"></div>
</div>

<script>
/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   IST Clock
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function tick(){
  var t=new Intl.DateTimeFormat('en-IN',{timeZone:'Asia/Kolkata',hour:'2-digit',minute:'2-digit',second:'2-digit',hour12:false}).format(new Date());
  document.getElementById('ct').textContent=t;
}
tick();setInterval(tick,1000);

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   WORLD CLOCKS
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
var ZONES=[
  {id:'ist',timeId:'wt-ist',zoneId:null,tz:'Asia/Kolkata',label:'IST',marketOpen:{h:9,m:15},marketClose:{h:15,m:30}},
  {id:'sgt',timeId:'wt-sgt',zoneId:null,tz:'Asia/Singapore',label:'SGT',marketOpen:{h:6,m:30},marketClose:{h:23,m:30}},
  {id:'hkt',timeId:'wt-hkt',zoneId:null,tz:'Asia/Hong_Kong',label:'HKT',marketOpen:{h:9,m:30},marketClose:{h:16,m:0}},
  {id:'gmt',timeId:'wt-gmt',zoneId:'wz-gmt',tz:'Europe/London',label:'GMT',marketOpen:{h:8,m:0},marketClose:{h:16,m:30}},
  {id:'cet',timeId:'wt-cet',zoneId:'wz-cet',tz:'Europe/Berlin',label:'CET',marketOpen:{h:9,m:0},marketClose:{h:17,m:30}},
  {id:'est',timeId:'wt-est',zoneId:'wz-est',tz:'America/New_York',label:'EST',marketOpen:{h:9,m:30},marketClose:{h:16,m:0}},
  {id:'jst',timeId:'wt-jst',zoneId:null,tz:'Asia/Tokyo',label:'JST',marketOpen:{h:9,m:0},marketClose:{h:15,m:30}}
];
function isMarketOpen(zone){
  var d=new Date(new Date().toLocaleString('en-US',{timeZone:zone.tz}));
  var day=d.getDay();if(day===0||day===6)return false;
  var mins=d.getHours()*60+d.getMinutes();
  return mins>=zone.marketOpen.h*60+zone.marketOpen.m&&mins<zone.marketClose.h*60+zone.marketClose.m;
}
function tickWorldClocks(){
  var now=new Date();
  ZONES.forEach(function(zone){
    var el=document.getElementById('wc-'+zone.id);
    var te=document.getElementById(zone.timeId);
    var ze=zone.zoneId?document.getElementById(zone.zoneId):null;
    if(!el||!te)return;
    var timeStr=new Intl.DateTimeFormat('en-GB',{timeZone:zone.tz,hour:'2-digit',minute:'2-digit',second:'2-digit',hour12:false}).format(now);
    te.textContent=timeStr;
    if(ze){
      if(zone.id==='gmt'){var lh=parseInt(timeStr.split(':')[0]);ze.textContent=(lh===new Date().getUTCHours())?'GMT':'BST';}
      else if(zone.id==='cet'){ze.textContent=new Intl.DateTimeFormat('en',{timeZone:zone.tz,timeZoneName:'short'}).format(now).split(', ')[1]||zone.label;}
      else if(zone.id==='est'){var nyH=parseInt(new Intl.DateTimeFormat('en-US',{timeZone:'America/New_York',hour:'numeric',hour12:false}).format(now));var utcHr=new Date().getUTCHours();ze.textContent=((utcHr-nyH+24)%24===5)?'EST':'EDT';}
    }
    var open=isMarketOpen(zone);
    el.classList.remove('active-market','closed-market','neutral-market');
    el.classList.add(open?'active-market':'closed-market');
  });
}
tickWorldClocks();setInterval(tickWorldClocks,1000);

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   MARKET DATA
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
var FINNHUB_KEY='d6dmrfhr01qm89pk6ta0d6dmrfhr01qm89pk6tag';
var MB_MAP=[
  {id:'n50',valId:'mv-n50',chgId:'mc-n50',srcId:'ms-n50',yfSym:'^NSEI',fhSym:null,nseKey:'NIFTY 50',prefix:'',isVix:false},
  {id:'bn',valId:'mv-bn',chgId:'mc-bn',srcId:'ms-bn',yfSym:'^NSEBANK',fhSym:null,nseKey:'NIFTY BANK',prefix:'',isVix:false},
  {id:'vix',valId:'mv-vix',chgId:'mc-vix',srcId:'ms-vix',yfSym:'^INDIAVIX',fhSym:null,nseKey:'INDIA VIX',prefix:'',isVix:true},
  {id:'fn',valId:'mv-fn',chgId:'mc-fn',srcId:'ms-fn',yfSym:'NIFTY_FIN_SERVICE.NS',fhSym:null,nseKey:'NIFTY FIN SERVICE',prefix:'',isVix:false},
  {id:'sx',valId:'mv-sx',chgId:'mc-sx',srcId:'ms-sx',yfSym:'^BSESN',fhSym:null,nseKey:'SENSEX',prefix:'',isVix:false},
  {id:'sp',valId:'mv-sp',chgId:'mc-sp',srcId:'ms-sp',yfSym:'^GSPC',fhSym:'OANDA:SPX500_USD',nseKey:null,prefix:'',isVix:false},
  {id:'ndq',valId:'mv-ndq',chgId:'mc-ndq',srcId:'ms-ndq',yfSym:'^IXIC',fhSym:'OANDA:NAS100_USD',nseKey:null,prefix:'',isVix:false},
  {id:'dji',valId:'mv-dji',chgId:'mc-dji',srcId:'ms-dji',yfSym:'^DJI',fhSym:'OANDA:US30_USD',nseKey:null,prefix:'',isVix:false},
  {id:'inr',valId:'mv-inr',chgId:'mc-inr',srcId:'ms-inr',yfSym:'INR=X',fhSym:'OANDA:USD_INR',nseKey:null,prefix:'',isVix:false},
  {id:'crude',valId:'mv-crude',chgId:'mc-crude',srcId:'ms-crude',yfSym:'CL=F',fhSym:'OANDA:USOIL_USD',nseKey:null,prefix:'$',isVix:false},
  {id:'gold',valId:'mv-gold',chgId:'mc-gold',srcId:'ms-gold',yfSym:'GC=F',fhSym:'OANDA:XAU_USD',nseKey:null,prefix:'$',isVix:false},
  {id:'silver',valId:'mv-silver',chgId:'mc-silver',srcId:'ms-silver',yfSym:'SI=F',fhSym:'OANDA:XAG_USD',nseKey:null,prefix:'$',isVix:false},
];

function fmtV(n,d){d=d||2;if(n==null||isNaN(n))return'‚Äî';return n>=1000?n.toLocaleString('en-IN',{minimumFractionDigits:d,maximumFractionDigits:d}):n.toFixed(d);}
function silentUpdate(item,price,chgPct,source){
  var valEl=document.getElementById(item.valId);var chgEl=document.getElementById(item.chgId);var srcEl=document.getElementById(item.srcId);
  if(!valEl||!chgEl)return;var up=chgPct>=0;var newVal=item.prefix+fmtV(price,2);var newChg=(up?'‚ñ≤ +':'‚ñº ')+Math.abs(chgPct).toFixed(2)+'%';
  if(valEl.textContent!==newVal){valEl.textContent=newVal;valEl.classList.remove('val-updated');void valEl.offsetWidth;valEl.classList.add('val-updated');}
  if(chgEl.textContent!==newChg){chgEl.textContent=newChg;chgEl.className=item.isVix?'mbar-chg vix':(up?'mbar-chg up':'mbar-chg dn');}
  if(srcEl)srcEl.textContent=source||'';
}
function setTs(){var ts=document.getElementById('mbar-ts');if(!ts)return;var now=new Intl.DateTimeFormat('en-IN',{timeZone:'Asia/Kolkata',hour:'2-digit',minute:'2-digit',hour12:false}).format(new Date());ts.textContent='UPD '+now;}
function fetchNSE(){
  var url='https://www.nseindia.com/api/allIndices';
  var list=['https://corsproxy.io/?'+encodeURIComponent(url),'https://api.allorigins.win/get?url='+encodeURIComponent(url)];
  return new Promise(function(resolve){var done=false,n=0;list.forEach(function(px){fetch(px,{signal:AbortSignal.timeout(7000),cache:'no-store'}).then(function(r){return r.ok?r.json():Promise.reject();}).then(function(j){if(j&&j.contents){try{j=JSON.parse(j.contents);}catch(e){return;}}var d=(j&&j.data)||[];if(d.length>=2&&!done){done=true;resolve(d);}}).catch(function(){}).finally(function(){n++;if(n===list.length&&!done)resolve([]);});});});
}
function fetchFinnhub(){
  if(!FINNHUB_KEY||FINNHUB_KEY==='YOUR_FINNHUB_KEY'){return Promise.resolve({});}
  var items=MB_MAP.filter(function(x){return x.fhSym;});
  var calls=items.map(function(item){var url='https://finnhub.io/api/v1/quote?symbol='+encodeURIComponent(item.fhSym)+'&token='+FINNHUB_KEY;return fetch(url,{signal:AbortSignal.timeout(8000),cache:'no-store'}).then(function(r){return r.ok?r.json():null;}).then(function(j){if(j&&j.c&&j.c>0)return{id:item.id,price:j.c,chgPct:j.dp||0};return null;}).catch(function(){return null;});});
  return Promise.all(calls).then(function(res){var map={};res.forEach(function(r){if(r)map[r.id]={price:r.price,chgPct:r.chgPct};});return map;});
}
function fetchDataJson(){return fetch('./data.json?_t='+Date.now(),{cache:'no-store'}).then(function(r){return r.ok?r.json():null;}).then(function(j){if(j&&j.data){return j.data;}return{};}).catch(function(){return{};});}
function fetchFrankfurter(){return fetch('https://api.frankfurter.app/latest?from=USD&to=INR',{signal:AbortSignal.timeout(6000),cache:'no-store'}).then(function(r){return r.ok?r.json():null;}).then(function(j){if(j&&j.rates&&j.rates.INR){return{inr:{price:j.rates.INR,chgPct:0}};}return{};}).catch(function(){return{};});}
function fetchOpenFX(){return fetch('https://open.er-api.com/v6/latest/USD',{signal:AbortSignal.timeout(6000),cache:'no-store'}).then(function(r){return r.ok?r.json():null;}).then(function(j){if(j&&j.rates&&j.rates.INR){return{inr:{price:j.rates.INR,chgPct:0}};}return{};}).catch(function(){return{};});}
function refreshMarketBar(){
  Promise.all([fetchNSE(),fetchFinnhub(),fetchDataJson(),fetchFrankfurter(),fetchOpenFX()]).then(function(res){
    var nseArr=res[0],fhMap=res[1],jsonMap=res[2],fxFrank=res[3],fxOpen=res[4];var updated=0;
    MB_MAP.forEach(function(item){
      var price=null,chgPct=null,src=null;
      if(item.nseKey&&nseArr.length){var f=nseArr.find(function(d){return d.index===item.nseKey||d.indexSymbol===item.nseKey||(d.index||'').toLowerCase()===item.nseKey.toLowerCase();});if(f&&f.last!=null){price=parseFloat(f.last);chgPct=parseFloat(f.percentChange);src='NSE';}}
      if(price===null&&fhMap[item.id]){price=fhMap[item.id].price;chgPct=fhMap[item.id].chgPct;src='FH';}
      if(price===null&&jsonMap[item.id]){price=jsonMap[item.id].price;chgPct=jsonMap[item.id].chgPct;src='GHA';}
      if(price===null&&fxFrank[item.id]){price=fxFrank[item.id].price;chgPct=fxFrank[item.id].chgPct;src='FX';}
      if(price===null&&fxOpen[item.id]){price=fxOpen[item.id].price;chgPct=fxOpen[item.id].chgPct;src='FX2';}
      if(price!==null){silentUpdate(item,price,chgPct,src);updated++;}
    });
    if(updated>0)setTs();
    buildTicker(_top10Cache);
  });
}

var STOCK_KEYS=[
  {key:'t_RELIANCE',name:'RELIANCE',prefix:'‚Çπ'},{key:'t_HDFCBANK',name:'HDFC BANK',prefix:'‚Çπ'},
  {key:'t_ICICIBANK',name:'ICICI BANK',prefix:'‚Çπ'},{key:'t_INFY',name:'INFOSYS',prefix:'‚Çπ'},
  {key:'t_TCS',name:'TCS',prefix:'‚Çπ'},{key:'t_AIRTEL',name:'AIRTEL',prefix:'‚Çπ'},
  {key:'t_ITC',name:'ITC',prefix:'‚Çπ'},{key:'t_SBI',name:'SBI',prefix:'‚Çπ'},
  {key:'t_KOTAK',name:'KOTAK BANK',prefix:'‚Çπ'},{key:'t_LT',name:'L&T',prefix:'‚Çπ'},
  {key:'u_AAPL',name:'APPLE',prefix:'$'},{key:'u_MSFT',name:'MICROSOFT',prefix:'$'},
  {key:'u_NVDA',name:'NVIDIA',prefix:'$'},{key:'u_AMZN',name:'AMAZON',prefix:'$'},
  {key:'u_GOOGL',name:'GOOGLE',prefix:'$'},{key:'u_META',name:'META',prefix:'$'},
  {key:'u_TSLA',name:'TESLA',prefix:'$'},{key:'u_BRK',name:'BERKSHIRE',prefix:'$'},
  {key:'u_JPM',name:'JPMORGAN',prefix:'$'},{key:'u_UNH',name:'UNITEDHLTH',prefix:'$'},
];
function fetchNiftyTop10(){
  return fetch('./data.json?_t='+Date.now(),{cache:'no-store'}).then(function(r){return r.ok?r.json():null;}).then(function(j){
    if(!j||!j.data)return[];var results=[];
    STOCK_KEYS.forEach(function(item){var d=j.data[item.key];if(d&&d.price){results.push({name:item.name,prefix:item.prefix,regularMarketPrice:d.price,regularMarketChangePercent:d.chgPct});}});
    return results;
  }).catch(function(){return[];});
}
function buildTicker(top10){
  var items=[];
  if(top10&&top10.length){top10.forEach(function(q){if(q.regularMarketPrice==null)return;var price=q.regularMarketPrice;var chg=q.regularMarketChangePercent||0;var up=chg>=0;var pfx=q.prefix||'‚Çπ';items.push({s:q.name,v:pfx+price.toLocaleString('en-IN',{minimumFractionDigits:2,maximumFractionDigits:2}),c:(up?'+':'')+chg.toFixed(2)+'%',u:up});});}
  if(items.length<3){var TICKER_LABELS={n50:'NIFTY 50',bn:'BANK NIFTY',vix:'INDIA VIX',fn:'FINNIFTY',sx:'SENSEX',sp:'S&P 500',ndq:'NASDAQ',dji:'DOW JONES',inr:'USD/INR',crude:'CRUDE OIL',gold:'GOLD',silver:'SILVER'};MB_MAP.forEach(function(item){var valEl=document.getElementById(item.valId);var chgEl=document.getElementById(item.chgId);if(!valEl||valEl.textContent==='¬∑¬∑¬∑'||valEl.textContent==='‚Äî')return;var up=chgEl.classList.contains('up')||chgEl.classList.contains('vix');items.push({s:TICKER_LABELS[item.id],v:valEl.textContent,c:chgEl.textContent.replace('‚ñ≤ ','').replace('‚ñº ','-'),u:up});});}
  if(items.length<3)return;
  var tkr=document.getElementById('tkr');var all=items.concat(items).concat(items);
  tkr.innerHTML=all.map(function(t){return'<span class="ti"><span class="s">'+t.s+'</span><span class="tv">'+t.v+'</span><span class="'+(t.u?'up':'dn')+'">'+(t.u?'‚ñ≤ ':'‚ñº ')+t.c+'</span></span>';}).join('');
}
var _top10Cache=[];
function refreshTicker(){fetchNiftyTop10().then(function(res){_top10Cache=res||[];buildTicker(_top10Cache);});}
refreshTicker();setInterval(refreshTicker,5*60*1000);
refreshMarketBar();setInterval(refreshMarketBar,60000);

var l=sessionStorage.getItem('lo');
if(l)document.getElementById('lc').textContent=l;

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   VISITOR COUNTER SYSTEM
   Uses CountAPI.xyz (free, no signup) for total & today hits
   Uses localStorage heartbeat for estimated live viewers
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
(function(){
  /* ‚îÄ‚îÄ config: change this namespace to your own unique name ‚îÄ‚îÄ */
  var NS = 'nifty-indian-markets-hub-v1';
  var TODAY_KEY = NS + '-today-' + new Date().toISOString().slice(0,10); /* resets daily */

  var liveCount  = 1;
  var todayCount = 0;
  var totalCount = 0;
  var peakToday  = 1;

  /* ‚îÄ‚îÄ helper: flash number update ‚îÄ‚îÄ */
  function setNum(id, val, fmt) {
    var el = document.getElementById(id);
    if (!el) return;
    var str = fmt ? val.toLocaleString('en-IN') : String(val);
    if (el.textContent !== str) {
      el.textContent = str;
      el.classList.remove('num-updated');
      void el.offsetWidth;
      el.classList.add('num-updated');
    }
  }

  /* ‚îÄ‚îÄ update all display elements ‚îÄ‚îÄ */
  function render() {
    setNum('vc-live',  liveCount,  true);
    setNum('vc-today', todayCount, true);
    setNum('vc-total', totalCount, true);
    setNum('vc-peak',  peakToday,  true);
    setNum('vcc-live',  liveCount,  true);
    setNum('vcc-today', todayCount, true);
    setNum('vcc-total', totalCount, true);
    var now = new Intl.DateTimeFormat('en-IN',{timeZone:'Asia/Kolkata',hour:'2-digit',minute:'2-digit',hour12:false}).format(new Date());
    var ts = document.getElementById('vc-ts');
    if (ts) ts.textContent = now;
  }

  /* ‚ïê‚ïê 1. TOTAL VISITS ‚Äî CountAPI hit (increments on every page load) ‚ïê‚ïê */
  function hitTotal() {
    fetch('https://api.countapi.xyz/hit/' + NS + '/total', {cache:'no-store'})
      .then(function(r){ return r.ok ? r.json() : null; })
      .then(function(j){
        if (j && j.value) {
          totalCount = j.value;
          render();
        }
      })
      .catch(function(){});
  }

  /* ‚ïê‚ïê 2. TODAY VISITS ‚Äî CountAPI, key changes daily ‚ïê‚ïê */
  function hitToday() {
    fetch('https://api.countapi.xyz/hit/' + NS + '/' + TODAY_KEY, {cache:'no-store'})
      .then(function(r){ return r.ok ? r.json() : null; })
      .then(function(j){
        if (j && j.value) {
          todayCount = j.value;
          render();
        }
      })
      .catch(function(){});
  }

  /* ‚ïê‚ïê 3. LIVE VIEWERS ‚Äî localStorage heartbeat system
     Each tab writes a timestamp every 30s under a unique key.
     On read, we count keys updated within the last 90s.
     Works across all tabs on the same origin (same GitHub Pages domain).
  ‚ïê‚ïê */
  var SESSION_KEY = 'vc_sess_' + Math.random().toString(36).slice(2);
  var LS_PREFIX   = 'vc_hb_';
  var HB_INTERVAL = 30000;   /* write heartbeat every 30s */
  var HB_EXPIRE   = 90000;   /* consider alive if seen within 90s */

  function writeHeartbeat() {
    try {
      var exp = Date.now() + HB_EXPIRE;
      localStorage.setItem(LS_PREFIX + SESSION_KEY, exp.toString());
    } catch(e) {}
  }

  function countLive() {
    var now = Date.now();
    var alive = 0;
    try {
      for (var i = 0; i < localStorage.length; i++) {
        var k = localStorage.key(i);
        if (k && k.indexOf(LS_PREFIX) === 0) {
          var exp = parseInt(localStorage.getItem(k), 10);
          if (!isNaN(exp) && exp > now) {
            alive++;
          } else {
            /* clean up expired */
            localStorage.removeItem(k);
          }
        }
      }
    } catch(e) { alive = 1; }
    return Math.max(1, alive);
  }

  function updateLive() {
    writeHeartbeat();
    liveCount = countLive();
    if (liveCount > peakToday) peakToday = liveCount;
    render();
  }

  /* ‚ïê‚ïê 4. PEAK TODAY ‚Äî store in localStorage, reset daily ‚ïê‚ïê */
  var PEAK_KEY = 'vc_peak_' + new Date().toISOString().slice(0,10);
  function loadPeak() {
    try {
      var stored = parseInt(localStorage.getItem(PEAK_KEY), 10);
      if (!isNaN(stored) && stored > peakToday) peakToday = stored;
    } catch(e) {}
  }
  function savePeak() {
    try {
      var stored = parseInt(localStorage.getItem(PEAK_KEY), 10);
      if (isNaN(stored) || peakToday > stored) {
        localStorage.setItem(PEAK_KEY, peakToday.toString());
      }
    } catch(e) {}
  }

  /* ‚ïê‚ïê Remove our heartbeat on page unload ‚ïê‚ïê */
  window.addEventListener('beforeunload', function() {
    try { localStorage.removeItem(LS_PREFIX + SESSION_KEY); } catch(e) {}
  });

  /* ‚ïê‚ïê INIT ‚ïê‚ïê */
  loadPeak();
  hitTotal();
  hitToday();
  updateLive();

  /* Heartbeat: every 30s */
  setInterval(function() {
    updateLive();
    savePeak();
  }, HB_INTERVAL);

  /* Refresh today/total every 5 min (read-only, no extra hit) */
  setInterval(function() {
    fetch('https://api.countapi.xyz/get/' + NS + '/total', {cache:'no-store'})
      .then(function(r){ return r.ok ? r.json() : null; })
      .then(function(j){ if (j && j.value) { totalCount = j.value; render(); } })
      .catch(function(){});
    fetch('https://api.countapi.xyz/get/' + NS + '/' + TODAY_KEY, {cache:'no-store'})
      .then(function(r){ return r.ok ? r.json() : null; })
      .then(function(j){ if (j && j.value) { todayCount = j.value; render(); } })
      .catch(function(){});
  }, 5 * 60 * 1000);

  /* ‚ïê‚ïê Hide corner badge when footer visible (no overlap) ‚ïê‚ïê */
  var cornerBadge = document.getElementById('vc-corner');
  var footer = document.querySelector('footer');
  function checkFooterVisible() {
    if (!footer || !cornerBadge) return;
    var rect = footer.getBoundingClientRect();
    var inView = rect.top < window.innerHeight;
    cornerBadge.classList.toggle('hidden-badge', inView);
  }
  window.addEventListener('scroll', checkFooterVisible, {passive:true});
  checkFooterVisible();

})();

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   IFRAME VIEWER
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
var currentUrl='';
var viewer=document.getElementById('viewer');
var vwrap=document.getElementById('vframe-wrap');
var vtitle=document.getElementById('vtitle');
var vload=document.getElementById('vload');
var _vframe=null;

function spawnFrame(){
  if(_vframe){_vframe.src='about:blank';vwrap.removeChild(_vframe);_vframe=null;}
  var f=document.createElement('iframe');
  f.style.cssText='width:100%;height:100%;border:none;background:#000;position:absolute;inset:0;';
  f.setAttribute('sandbox','allow-scripts allow-same-origin allow-forms allow-popups allow-popups-to-escape-sandbox');
  f.setAttribute('referrerpolicy','no-referrer');
  vwrap.appendChild(f);_vframe=f;return f;
}
function openViewer(url,name){
  currentUrl=url;vtitle.textContent='‚ñ∂ '+name.toUpperCase();
  viewer.classList.add('open');document.body.style.overflow='hidden';
  document.getElementById('floatback').classList.add('visible');
  history.pushState({viewer:true,url:url,name:name},'','#node');
  vload.classList.remove('hidden');
  var f=spawnFrame();f.onload=function(){vload.classList.add('hidden');};f.src=currentUrl;
}
function closeViewer(fromPopState){
  viewer.classList.remove('open');document.body.style.overflow='';
  document.getElementById('floatback').classList.remove('visible');
  if(_vframe){_vframe.src='about:blank';vwrap.removeChild(_vframe);_vframe=null;}
  currentUrl='';
  if(!fromPopState&&location.hash==='#node'){history.replaceState(null,'',location.pathname);}
}
function openExternal(){if(currentUrl)window.open(currentUrl,'_blank');}
window.addEventListener('popstate',function(){if(viewer.classList.contains('open'))closeViewer(true);});
if(location.hash==='#node'){history.replaceState(null,'',location.pathname);}
document.addEventListener('keydown',function(e){if(e.key==='Escape'&&viewer.classList.contains('open'))closeViewer(false);});

function go(e,name){
  e.preventDefault();var card=e.currentTarget,url=card.href;
  sessionStorage.setItem('lo',name);document.getElementById('lc').textContent=name;
  var r=document.createElement('div');r.className='rpl';
  var b=card.getBoundingClientRect();
  r.style.left=(e.clientX-b.left-30)+'px';r.style.top=(e.clientY-b.top-30)+'px';
  card.appendChild(r);setTimeout(function(){r.remove();},600);
  setTimeout(function(){openViewer(url,name);},200);
}

/* Card entrance animation */
document.querySelectorAll('.sc-card[href]').forEach(function(c,i){
  c.style.opacity='0';c.style.transform='translateY(14px)';
  c.style.transition='opacity .4s ease '+i*.07+'s,transform .4s ease '+i*.07+'s';
  setTimeout(function(){c.style.opacity='1';c.style.transform='none';},80+i*60);
});
</script>
</body>
</html>
